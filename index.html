<!DOCTYPE html>
<html>
    <head>
        <script src="https://www.gstatic.com/firebasejs/7.6.0/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.6.0/firebase-analytics.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.6.0/firebase-auth.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.6.0/firebase-database.js"></script>
        <script src="https://apis.google.com/js/platform.js" async defer></script>

        <title>
            SURVIVOR CENTRAL
        </title>
        
        <!-- Compiled and minified CSS -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

                
    </head>

    <body style="background-color: #ff8000">

        <nav>
            <div class="nav-wrapper" style="background-color: #000080">
                <a href="#" class="brand-logo center" style="background-color: #000080; background-image: #000080">SURVIVOR CENTRAL</a>
                    <ul id="nav-mobile" class="left hide-on-med-and-down">
                        <li><a href="#login_modal" id = "login_nav" class = "modal-trigger" style="background-color: #000080">Login/Sign Up</a></li>
                        <li><a href="home.html" id = "home_nav">Home</a></li>
                        <li><a href="index.html" id = "forums_nav">Forums</a></li>
                        <li><a href="rules.html" id = "rules_nav">Rules</a></li>
                    </ul>
            </div>
        </nav>

        <!-- Modal Structure -->
        <div id="login_modal" class="modal">
            <div class="modal-content">
                <form id="login-form" autocomplete = "off">
                    <div class="input-field">
                        <input type="email" id="user_name" autocomplete="" required />
                        <label for="user_name">User Name</label>
                    </div>
                    <div class="input-field">
                        <input type="password" id="user_password" autocomplete="" required />
                        <label for="user_password">Password</label>
                    </div>
                    
                    <button class="btn green darken-2 z-depth-0">Sign Up</button>
                </form>
            </div>
            <div class="modal-footer">
                <a href="#!" class="modal-close waves-effect waves-green btn-flat">Create New User</a>
            </div>
        </div>
        
        <script>
        var firebaseConfig = {
            apiKey: "AIzaSyAl6cJJZxneO2pVcCcNgrsDqfIXpgwA1Zg",
            authDomain: "setup-11eef.firebaseapp.com",
            databaseURL: "https://setup-11eef-default-rtdb.firebaseio.com",
            projectId: "setup-11eef",
            storageBucket: "setup-11eef.appspot.com",
            messagingSenderId: "1063490417977",
            appId: "1:1063490417977:web:d64b481603113fa6be64e8",
            measurementId: "G-MZP0MQ6K7T"
          };
          // Initialize Firebase
          firebase.initializeApp(firebaseConfig);
          firebase.analytics();
          var database = firebase.database();

                function writeData1() {

                    firebase.database().ref("Threads").update({
                        onet: document.getElementById("thread1").value
                    });

                    var t1 = document.getElementById("1stthread")
                    var z1 = document.getElementById("thread1")
                    var r1 = document.getElementById("rate1");
                    var l1 = '<span><button type = "button" class="button" id = "1rate" onclick = "like1()" style = "color: white; background-color: #add8e6; border: 10px; border-color: black; height: 15px; width: 30px;text-align: center; text-decoration: none;display: inline-block;font-size: 10px; margin: 4px 2px; cursor: pointer;">Like</button></span>';
                    if (t1.innerHTML !== "-") {
                        t1.innerHTML = "Posted"
                        r1.innerHTML = "&#128172; :1<br>&#10084;&#65039; " + l1
                    }

                    var u1 = document.getElementById("user1")
                    var x = document.getElementById("user_name")
                    var today = new Date();
                    var dd = String(today.getDate()).padStart(2, '0');
                    var mm = String(today.getMonth() + 1).padStart(2, '0');
                    var yyyy = today.getFullYear();

                    today = mm + '/' + dd + '/' + yyyy;

                    if (u1.innerHTML === "-") {
                        u1.innerHTML = "&#128100;" + "  "+ x.value + "<br>" + today
                    }
                }
                
                function getData() {

                    var t1 = document.getElementById("1stthread")
                    firebase.database().ref('/').once('value', function(snapshot) {
                        snapshot.forEach(function(childSnapshot)
                        {
                            var childKey = childSnapshot.key;
                            var childData = childSnapshot.val();
                            t1.innerHTML = childData['onet'];
                        });
                    });


                    var t2 = document.getElementById("2ndthread")
                    firebase.database().ref('/').once('value', function(snapshot) {
                        snapshot.forEach(function(childSnapshot)
                        {
                            var childKey = childSnapshot.key;
                            var childData = childSnapshot.val();
                            t2.innerHTML = childData['twot']
                        });
                    });


                    var t3 = document.getElementById("3rdthread")
                    firebase.database().ref('/').once('value', function(snapshot) {
                        snapshot.forEach(function(childSnapshot)
                        {
                            var childKey = childSnapshot.key;
                            var childData = childSnapshot.val();
                            t3.innerHTML = childData['threet']
                        });
                    });


                    var t4 = document.getElementById("4ththread")
                    firebase.database().ref('/').once('value', function(snapshot) {
                        snapshot.forEach(function(childSnapshot)
                        {
                            var childKey = childSnapshot.key;
                            var childData = childSnapshot.val();
                            t4.innerHTML = childData['fourt']
                        });
                    });
                }

                function writeData2() {

                    firebase.database().ref("Threads").update({
                        twot: document.getElementById("thread2").value
                    })

                    var t2 = document.getElementById("2ndthread")
                    var z2 = document.getElementById("thread2")
                    var r2 = document.getElementById("rate2");
                    var l2 = '<span><button type = "button" class="button" id = "2rate" onclick = "like2()" style = "color: white; background-color: #add8e6; border: 10px; border-color: black; height: 15px; width: 30px;text-align: center; text-decoration: none;display: inline-block;font-size: 10px; margin: 4px 2px; cursor: pointer;">Like</button></span>';
                    if (t2.innerHTML !== "-") {
                        t2.innerHTML = "Posted"
                        r2.innerHTML = "&#128172; :1<br>&#10084;&#65039; " + l2
                    }

                    var u2 = document.getElementById("user2")
                    var x = document.getElementById("user_name")
                    var today = new Date();
                    var dd = String(today.getDate()).padStart(2, '0');
                    var mm = String(today.getMonth() + 1).padStart(2, '0');
                    var yyyy = today.getFullYear();

                    today = mm + '/' + dd + '/' + yyyy;

                    if (u2.innerHTML === "-") {
                        u2.innerHTML = "&#128100;" + "  "+ x.value + "<br>" + today
                    }
                }

                function writeData3() {

                    firebase.database().ref("Threads").update({
                        threet: document.getElementById("thread3").value
                    })

                    var t3 = document.getElementById("3rdthread")
                    var z3 = document.getElementById("thread3")
                    var r3 = document.getElementById("rate3");
                    var l3 = '<span><button type = "button" class="button" id = "3rate" onclick = "like3()" style = "color: white; background-color: #add8e6; border: 10px; border-color: black; height: 15px; width: 30px;text-align: center; text-decoration: none;display: inline-block;font-size: 10px; margin: 4px 2px; cursor: pointer;">Like</button></span>';
                    if (t3.innerHTML !== "-") {
                        t3.innerHTML = "Posted"
                        r3.innerHTML = "&#128172; :1<br>&#10084;&#65039; " + l3
                    }

                    var u3 = document.getElementById("user3")
                    var x = document.getElementById("user_name")
                    var today = new Date();
                    var dd = String(today.getDate()).padStart(2, '0');
                    var mm = String(today.getMonth() + 1).padStart(2, '0');
                    var yyyy = today.getFullYear();

                    today = mm + '/' + dd + '/' + yyyy;
                    
                    if (u3.innerHTML === "-") {
                        u3.innerHTML = "&#128100;" + "  "+ x.value + "<br>" + today
                    }
                }

                function writeData4() {

                    firebase.database().ref("Threads").update({
                        fourt: document.getElementById("thread4").value
                    })

                    var t4 = document.getElementById("4ththread")
                    var z4 = document.getElementById("thread4")
                    var r4 = document.getElementById("rate4");
                    var l4 = '<span><button type = "button" class="button" id = "4rate" onclick = "like4()" style = "color: white; background-color: #add8e6; border: 10px; border-color: black; height: 15px; width: 30px;text-align: center; text-decoration: none;display: inline-block;font-size: 10px; margin: 4px 2px; cursor: pointer;">Like</button></span>';
                    if (t4.innerHTML !== "-") {
                        t4.innerHTML = "Posted"
                        r4.innerHTML = "&#128172; :1<br>&#10084;&#65039; " + l4
                    }

                    var u4 = document.getElementById("user4")
                    var x = document.getElementById("user_name")
                    var today = new Date();
                    var dd = String(today.getDate()).padStart(2, '0');
                    var mm = String(today.getMonth() + 1).padStart(2, '0');
                    var yyyy = today.getFullYear();

                    today = mm + '/' + dd + '/' + yyyy;

                    if (u4.innerHTML === "-") {
                        u4.innerHTML = "&#128100;" + "  "+ x.value + "<br>" + today
                    }

                }

                function like1() {
                    var r1 = document.getElementById("rate1");
                    var l1 = '<span><button type = "button" class="button" id = "1rate" onclick = "like1()" style = "color: white; background-color: #add8e6; border: 10px; border-color: black; height: 15px; width: 30px;text-align: center; text-decoration: none;display: inline-block;font-size: 10px; margin: 4px 2px; cursor: pointer;">Like</button></span>';
                    r1.innerHTML = "&#128172; :1<br>&#10084;&#65039; :1" + l1
                }

                function like2() {
                    var r2 = document.getElementById("rate2");
                    var l2 = '<span><button type = "button" class="button" id = "2rate" onclick = "like2()" style = "color: white; background-color: #add8e6; border: 10px; border-color: black; height: 15px; width: 30px;text-align: center; text-decoration: none;display: inline-block;font-size: 10px; margin: 4px 2px; cursor: pointer;">Like</button></span>';
                    r2.innerHTML = "&#128172; :1<br>&#10084;&#65039; :1" + l2
                }

                function like3() {
                    var r3 = document.getElementById("rate3");
                    var l3 = '<span><button type = "button" class="button" id = "3rate" onclick = "like3()" style = "color: white; background-color: #add8e6; border: 10px; border-color: black; height: 15px; width: 30px;text-align: center; text-decoration: none;display: inline-block;font-size: 10px; margin: 4px 2px; cursor: pointer;">Like</button></span>';
                    r3.innerHTML = "&#128172; :1<br>&#10084;&#65039; :1" + l3
                }

                function like4() {
                    var r4 = document.getElementById("rate4");
                    var l4 = '<span><button type = "button" class="button" id = "4rate" onclick = "like4()" style = "color: white; background-color: #add8e6; border: 10px; border-color: black; height: 15px; width: 30px;text-align: center; text-decoration: none;display: inline-block;font-size: 10px; margin: 4px 2px; cursor: pointer;">Like</button></span>';
                    r4.innerHTML = "&#128172; :1<br>&#10084;&#65039; :1" + l4
                };
        </script>
        <center><div style="display: flex; flex-wrap: wrap;">
            <button type="button" class="button" id="clickMe" onclick = "getData()" style="color: white; background-color: #00b300; border: 10px; border-color: black; height: 50px; width: 200px;text-align: center; text-decoration: none;display: inline-block;font-size: 24px; margin: 4px 2px; cursor: pointer;">Show Threads</button>
        </div></center>
        <style>
        table {
          font-family: calibri, sans-serif;
          border-collapse: collapse;
          width: 100%;
        }

        td, th {
          border: 1px solid #dddddd;
          text-align: left;
          padding: 8px;
        }
        tr:nth-child(odd) {
          background-color: #ffffff;
        }
        tr:nth-child(even) {
          background-color: #dddddd;
        }
        </style>
        <table>
          <tr>
            <th>User</th>
            <th>Thread</th>
            <th>Ratings</th>
          </tr>
          <tr>
            <td id = "user1">-</td>
            <td id = "1stthread"><input type="text" placeholder="Link here" id="thread1"><button type="button" class="button" id="1thread" onclick = "writeData1()">Publish Thread</button></td>
            <td id = "rate1">&#128172;<br>&#10084;&#65039; <button type = "button" class="button" id = "1rate" onclick = "like1()" style = "color: white; background-color: #add8e6; border: 10px; border-color: black; height: 15px; width: 30px;text-align: center; text-decoration: none;display: inline-block;font-size: 10px; margin: 4px 2px; cursor: pointer;">Like</button></td>
          </tr>
          <tr>
            <td id = "user2">-</td>
            <td id = "2ndthread"><input type="text" placeholder="Link here" id="thread2"><button type="button" class="button" id="2thread" onclick = "writeData2()">Publish Thread</button></td>
            <td id = "rate2">&#128172;<br>&#10084;&#65039; <button type = "button" class="button" id = "2rate" onclick = "like2()" style = "color: white; background-color: #add8e6; border: 10px; border-color: black; height: 15px; width: 30px;text-align: center; text-decoration: none;display: inline-block;font-size: 10px; margin: 4px 2px; cursor: pointer;">Like</button></td>
          </tr>
          <tr>
            <td id = "user3">-</td>
            <td id = "3rdthread"><input type="text" placeholder="Link here" id="thread3"><button type="button" class="button" id="3thread" onclick = "writeData3()">Publish Thread</button></td>
            <td id = "rate3">&#128172;<br>&#10084;&#65039; <button type = "button" class="button" id = "3rate" onclick = "like3()" style = "color: white; background-color: #add8e6; border: 10px; border-color: black; height: 15px; width: 30px;text-align: center; text-decoration: none;display: inline-block;font-size: 10px; margin: 4px 2px; cursor: pointer;">Like</button></td>
          </tr>
          <tr>
            <td id = "user4">-</td>
            <td id = "4ththread"><input type="text" placeholder="Link here" id="thread4"><button type="button" class="button" id="4thread" onclick = "writeData4()">Publish Thread</button></td>
            <td id = "rate4">&#128172;<br>&#10084;&#65039; <button type = "button" class="button" id = "4rate" onclick = "like4()" style = "color: white; background-color: #add8e6; border: 10px; border-color: black; height: 15px; width: 30px;text-align: center; text-decoration: none;display: inline-block;font-size: 10px; margin: 4px 2px; cursor: pointer;">Like</button></td>
          </tr>
        </table>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

        <script>


            document.addEventListener('DOMContentLoaded', function() {
                options = []
                var elems = document.querySelectorAll('.modal');
                console.log(elems)
                var instances = M.Modal.init(elems, options);
            });

        </script>
    </body>
</html>